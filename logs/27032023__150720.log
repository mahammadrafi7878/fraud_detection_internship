[2023-03-27 15:07:21,493] 15 root _ INFO _ >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> Data Ingestion <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<
[2023-03-27 15:07:21,493] 23 root _ INFO _ Exporting collection data as pandas dataframe
[2023-03-27 15:07:25,262] 25 root _ INFO _ replacing na values with np.NAN
[2023-03-27 15:07:25,271] 28 root _ INFO _ Creating feature store path and directory if not available
[2023-03-27 15:07:25,271] 32 root _ INFO _ storing data collections into feature store 
[2023-03-27 15:07:26,868] 35 root _ INFO _ splitting train and test parts
[2023-03-27 15:07:26,924] 38 root _ INFO _ making target variable at last  ,beacuse we need to perform feature engineering so cant divide3 input and output features for both test and train data 
[2023-03-27 15:07:26,927] 43 root _ INFO _ making dataset dirctory to store train and test datasets
[2023-03-27 15:07:26,927] 47 root _ INFO _ storing train data set in dataset directory
[2023-03-27 15:07:28,183] 50 root _ INFO _ storing test dataset in dataset directory
[2023-03-27 15:07:28,642] 53 root _ INFO _ Creating data ingestion artifact
[2023-03-27 15:07:28,643] 59 root _ INFO _ returning data ingestion artifact
[2023-03-27 15:07:28,705] 23 root _ INFO _ Exporting collection data as pandas dataframe
[2023-03-27 15:07:32,462] 25 root _ INFO _ replacing na values with np.NAN
[2023-03-27 15:07:32,471] 28 root _ INFO _ Creating feature store path and directory if not available
[2023-03-27 15:07:32,471] 32 root _ INFO _ storing data collections into feature store 
[2023-03-27 15:07:33,844] 35 root _ INFO _ splitting train and test parts
[2023-03-27 15:07:33,899] 38 root _ INFO _ making target variable at last  ,beacuse we need to perform feature engineering so cant divide3 input and output features for both test and train data 
[2023-03-27 15:07:33,902] 43 root _ INFO _ making dataset dirctory to store train and test datasets
[2023-03-27 15:07:33,902] 47 root _ INFO _ storing train data set in dataset directory
[2023-03-27 15:07:34,992] 50 root _ INFO _ storing test dataset in dataset directory
[2023-03-27 15:07:35,458] 53 root _ INFO _ Creating data ingestion artifact
[2023-03-27 15:07:35,458] 59 root _ INFO _ returning data ingestion artifact
[2023-03-27 15:07:35,519] 18 root _ INFO _ >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> Data Validation <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<
[2023-03-27 15:07:35,519] 142 root _ INFO _ Reading base data frame
[2023-03-27 15:07:35,902] 144 root _ INFO _ replacing na values with np.NAN
[2023-03-27 15:07:35,967] 146 root _ INFO _ converting TX_DATETIME columns as object data type
[2023-03-27 15:07:35,973] 149 root _ INFO _ Droping missing columns , which have missing values greater than threshold
[2023-03-27 15:07:35,973] 31 root _ INFO _ Checking for highly missing values columns 
[2023-03-27 15:07:36,029] 35 root _ INFO _ if data have high missing values greater than threshold dropping those columns
[2023-03-27 15:07:36,044] 152 root _ INFO _ Reading train data set
[2023-03-27 15:07:36,315] 154 root _ INFO _ converting TX_DATETIME columns as object data type
[2023-03-27 15:07:36,320] 157 root _ INFO _ reading test data set
[2023-03-27 15:07:36,566] 159 root _ INFO _ converting TX_DATETIME columns as object data type
[2023-03-27 15:07:36,571] 162 root _ INFO _ droping highly missing value columns in train data set
[2023-03-27 15:07:36,571] 31 root _ INFO _ Checking for highly missing values columns 
[2023-03-27 15:07:36,611] 35 root _ INFO _ if data have high missing values greater than threshold dropping those columns
[2023-03-27 15:07:36,621] 165 root _ INFO _ droping highly missing value columns in test data set
[2023-03-27 15:07:36,621] 31 root _ INFO _ Checking for highly missing values columns 
[2023-03-27 15:07:36,661] 35 root _ INFO _ if data have high missing values greater than threshold dropping those columns
[2023-03-27 15:07:36,670] 169 root _ INFO _ Defining   exclude columns  for converting int datatype into float data type column
[2023-03-27 15:07:36,670] 172 root _ INFO _  Converting into float columns of base, train and test datasets
[2023-03-27 15:07:36,700] 179 root _ INFO _ Checking is required columns exist in both train and test datasets
[2023-03-27 15:07:36,700] 51 root _ INFO _ Checking for is required columns are exists 
[2023-03-27 15:07:36,701] 55 root _ INFO _ is missing columns are in then storing them into missing columns list
[2023-03-27 15:07:36,701] 51 root _ INFO _ Checking for is required columns are exists 
[2023-03-27 15:07:36,701] 55 root _ INFO _ is missing columns are in then storing them into missing columns list
[2023-03-27 15:07:36,701] 183 root _ INFO _ Defining numerical columns 
[2023-03-27 15:07:36,712] 188 root _ INFO _ defining categorica;l columns
[2023-03-27 15:07:36,736] 195 root _ INFO _ As all column are available in train df hence detecting data drift for numerical and categorical columns
[2023-03-27 15:07:36,736] 200 root _ INFO _ As all column are available in tests df hence detecting data driftfor numerical and categorical columns
[2023-03-27 15:07:36,737] 208 root _ INFO _ preparing data validation artifact
[2023-03-27 15:07:36,738] 211 root _ INFO _ retrurning data validation artifact
[2023-03-27 15:07:36,759] 19 root _ INFO _ >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> Data Transformation <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<
[2023-03-27 15:07:36,759] 58 root _ INFO _ reading training data set and converting column types into their respective data types
[2023-03-27 15:07:37,091] 66 root _ INFO _ reading training data set and converting column types into their respective data types
[2023-03-27 15:07:37,236] 74 root _ INFO _ Defining input for train and test datasets
[2023-03-27 15:07:37,253] 78 root _ INFO _ Defining target colum for both train test dataset
[2023-03-27 15:07:37,253] 82 root _ INFO _ Creating a transformation pipeline 
[2023-03-27 15:07:37,253] 30 root _ INFO _ Creating a pipline using Custom function with function transformer
[2023-03-27 15:07:37,254] 29 root _ INFO _ Creating a feature is transaction done in week or weekend
[2023-03-27 15:07:40,999] 55 root _ INFO _ Creating a feature with treansaction done in day or night
[2023-03-27 15:07:44,596] 93 root _ INFO _ Using Customer id feature creating three more features 
[2023-03-27 15:08:15,001] 136 root _ INFO _ Using terminal id creating three more features
[2023-03-27 15:09:31,327] 86 root _ INFO _ fit and transform pipeline for both train and test datasets
[2023-03-27 15:09:31,327] 29 root _ INFO _ Creating a feature is transaction done in week or weekend
[2023-03-27 15:09:35,096] 55 root _ INFO _ Creating a feature with treansaction done in day or night
[2023-03-27 15:09:38,682] 93 root _ INFO _ Using Customer id feature creating three more features 
[2023-03-27 15:10:08,738] 136 root _ INFO _ Using terminal id creating three more features
[2023-03-27 15:11:25,569] 151 root _ INFO _ After performning Feature Engineering dropping some columns
[2023-03-27 15:11:25,628] 29 root _ INFO _ Creating a feature is transaction done in week or weekend
[2023-03-27 15:11:27,276] 55 root _ INFO _ Creating a feature with treansaction done in day or night
[2023-03-27 15:11:29,141] 93 root _ INFO _ Using Customer id feature creating three more features 
[2023-03-27 15:11:59,588] 136 root _ INFO _ Using terminal id creating three more features
[2023-03-27 15:13:15,861] 151 root _ INFO _ After performning Feature Engineering dropping some columns
[2023-03-27 15:13:15,879] 93 root _ INFO _ This data set has imbalance data so applying Sampling technique for train and test data 
[2023-03-27 15:14:45,412] 97 root _ INFO _ Converting train and test data sets into numpy array to store
[2023-03-27 15:14:45,471] 101 root _ INFO _ storing converted train arr into transformed train path
[2023-03-27 15:14:45,525] 104 root _ INFO _ storing converted test arr into transformed train path
[2023-03-27 15:14:45,547] 107 root _ INFO _ storing transormation pipeline in transformer path , to use in future
[2023-03-27 15:14:45,550] 110 root _ INFO _ Preparing data transformation artifact
[2023-03-27 15:14:45,550] 117 root _ INFO _ returning data transformation artifact
[2023-03-27 15:14:45,582] 17 root _ INFO _ <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<  MODEL TRAINER >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> 
[2023-03-27 15:14:45,582] 36 root _ INFO _ loading train arrayt and test array
[2023-03-27 15:14:45,610] 48 root _ INFO _  spliting inputr and target features in both test and train array
[2023-03-27 15:14:45,612] 54 root _ INFO _ train the modelk
[2023-03-27 15:14:52,068] 57 root _ INFO _ calculating f1 score for train data
[2023-03-27 15:14:52,302] 61 root _ INFO _ calculating f1 score for test data
[2023-03-27 15:14:52,403] 66 root _ INFO _ f1_train_score:0.9999794175156942  and f1_test_score is : 0.9059593166525728
[2023-03-27 15:14:52,404] 69 root _ INFO _ checking our model is underfitting or overfitting or goood model
[2023-03-27 15:14:52,404] 74 root _ INFO _ checking our model is overfitting or not
[2023-03-27 15:14:52,404] 80 root _ INFO _ savinbg the model oibject 
[2023-03-27 15:14:52,407] 83 root _ INFO _ preparing the model trainer artifact
[2023-03-27 15:14:52,407] 87 root _ INFO _ model trainer artifact :ModelTrainerArtifact(model_path='/config/workspace/artifacts/27032023__150721/model_trainer/model/model.pkl', f1_train_score=0.9999794175156942, f1_test_score=0.9059593166525728) 
[2023-03-27 15:14:52,407] 22 root _ INFO _ >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>  Model Evaluation <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<
[2023-03-27 15:14:52,408] 38 root _ INFO _ if saved model folder has model the we will compare which model is best trained or the model from saved model folder
[2023-03-27 15:14:52,408] 49 root _ INFO _ Finding location of transformer model and target encoder
[2023-03-27 15:14:52,408] 55 root _ INFO _ Previous trained objects of transformer, model and target encoder
[2023-03-27 15:14:52,416] 64 root _ INFO _ Currently trained model objects
[2023-03-27 15:14:52,580] 29 root _ INFO _ Creating a feature is transaction done in week or weekend
[2023-03-27 15:14:54,205] 55 root _ INFO _ Creating a feature with treansaction done in day or night
[2023-03-27 15:14:55,747] 93 root _ INFO _ Using Customer id feature creating three more features 
[2023-03-27 15:15:25,269] 136 root _ INFO _ Using terminal id creating three more features
[2023-03-27 15:16:41,266] 151 root _ INFO _ After performning Feature Engineering dropping some columns
[2023-03-27 15:16:41,346] 88 root _ INFO _ Accuracy using previous trained model: 0.009954375777685608
[2023-03-27 15:16:41,352] 29 root _ INFO _ Creating a feature is transaction done in week or weekend
[2023-03-27 15:16:42,984] 55 root _ INFO _ Creating a feature with treansaction done in day or night
[2023-03-27 15:16:44,577] 93 root _ INFO _ Using Customer id feature creating three more features 
[2023-03-27 15:17:13,916] 136 root _ INFO _ Using terminal id creating three more features
[2023-03-27 15:18:29,515] 151 root _ INFO _ After performning Feature Engineering dropping some columns
[2023-03-27 15:18:29,592] 97 root _ INFO _ Accuracy using current trained model: 0.012244897959183673
[2023-03-27 15:18:29,592] 104 root _ INFO _ Model eval artifact: ModelEvaluationArtifact(is_model_accepted=True, improved_accuracy=0.0022905221814980645)
[2023-03-27 15:18:29,597] 20 root _ INFO _ <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<  MODEL PUSHER >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
[2023-03-27 15:18:29,597] 31 root _ INFO _ loading transformer and model
[2023-03-27 15:18:29,598] 35 root _ INFO _ saving the model into pusher directory
[2023-03-27 15:18:29,602] 40 root _ INFO _ saving the model in saved model directory
[2023-03-27 15:18:29,606] 48 root _ INFO _ preparing model pusher artifact
[2023-03-27 15:18:29,606] 52 root _ INFO _ model pusher artifact : ModelPusherArtifact(pusher_model_dir='/config/workspace/artifacts/27032023__150721/model_pusher/saved_models', saved_model_dir='saved_models')
[2023-03-27 15:18:29,606] 15 root _ INFO _ Creating model resolver object
[2023-03-27 15:18:29,606] 17 root _ INFO _ Reading file :/config/workspace/large_fraud_data11.csv
[2023-03-27 15:18:30,134] 27 root _ INFO _ Loading transformer to transform dataset
[2023-03-27 15:18:30,175] 29 root _ INFO _ Creating a feature is transaction done in week or weekend
[2023-03-27 15:18:35,597] 55 root _ INFO _ Creating a feature with treansaction done in day or night
[2023-03-27 15:18:40,764] 93 root _ INFO _ Using Customer id feature creating three more features 
[2023-03-27 15:19:11,771] 136 root _ INFO _ Using terminal id creating three more features
[2023-03-27 15:20:29,050] 151 root _ INFO _ After performning Feature Engineering dropping some columns
[2023-03-27 15:20:29,101] 33 root _ INFO _ Loading model to make prediction
